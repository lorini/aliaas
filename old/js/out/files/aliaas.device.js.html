<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>aliaas.device.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.1&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.5.1&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/AliaasBase.html">AliaasBase</a></li>
            
                <li><a href="..&#x2F;classes/AliaasDevice.html">AliaasDevice</a></li>
            
                <li><a href="..&#x2F;classes/AliaasHome.html">AliaasHome</a></li>
            
                <li><a href="..&#x2F;classes/AliaasRoom.html">AliaasRoom</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: aliaas.device.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
*  
* 
@class AliaasDevice
@constructor
@extends AliaasBase
**&#x2F;
function AliaasDevice() {
   
    AliaasBase.call(this); 

    &#x2F;**
    * 
    *
    @method displayDevicesThumbnails
    @chainable
    **&#x2F;
    this.displayDevicesThumbnails = function () {
        if(this.house == null) return ; 
        $.each(this.house.rooms, function (indiceRoom, room) {
            $.each(room.devices, function (indiceDevice, device) {
                var $li = $(&quot;&lt;li&gt;&lt;&#x2F;li&gt;&quot;).attr(&quot;class&quot;, &quot;span3&quot;) ;
                var $thumbnail = $(&quot;&lt;div&gt;&lt;&#x2F;div&gt;&quot;).attr(&quot;class&quot;, &quot;thumbnail&quot;); 
                var $innerThumbnailImg = $(&quot;&lt;img&gt;&lt;&#x2F;img&gt;&quot;).attr(&quot;src&quot;, &quot;.&#x2F;domotique&#x2F;&quot; + device.filename );
                var $innerThumbnailH5 = $(&quot;&lt;h5&gt;&lt;&#x2F;h5&gt;&quot;).html(device.address+&#x27; (&#x27;+device.moduleName+&#x27;)&#x27;);
                
                var $buttonEdit = $(&quot;&lt;a&gt;&lt;&#x2F;a&gt;&quot;).attr({class:&#x27;btn btn-primary dropdown-toggle&#x27;})
                                              .data(&#x27;toggle&#x27;,&#x27;dropdown&#x27;)
                                              .html(&quot;&lt;i class=&#x27;icon-edit icon-white&#x27;&gt;&lt;&#x2F;i&gt; Modifier &lt;span class=&#x27;caret&#x27;&gt;&lt;&#x2F;span&gt;&quot;) ;

                var $buttonDelete = $(&quot;&lt;a&gt;&lt;&#x2F;a&gt;&quot;).attr({class:&#x27;btn btn-danger&#x27;}).html(&quot;&lt;i class=&#x27;icon-remove icon-white&#x27;&gt;&lt;&#x2F;i&gt; Supprimer&quot;);

                var $btnGroup = $(&quot;&lt;div&gt;&lt;&#x2F;div&gt;&quot;).attr(&quot;class&quot;, &quot;btn-group&quot;) ;
                $btnGroup.append($buttonEdit); 

                $dropdownMenu = $(&quot;&lt;ul&gt;&lt;&#x2F;ul&gt;&quot;).attr(&quot;class&quot;,&quot;dropdown-menu&quot;) ;
             
                for (var i = 1; i &lt;= device.services.length ; i++)       
                   $dropdownMenu.append(&quot;&lt;li&gt;&lt;a class=&#x27;updateLevelLink&#x27; data-filename=&#x27;&quot;+device.services[i-1].url+&quot;&#x27;  data-address=&#x27;&quot;+device.address+&quot;&#x27; data-level=&#x27;&quot;+i+&quot;&#x27;&gt;Niveau &quot;+i+&quot;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;&quot;) 

                $btnGroup.append($dropdownMenu); 

                $btnGroup.append($buttonDelete);

                $thumbnail.append($innerThumbnailImg);
                $thumbnail.append($innerThumbnailH5);
                $thumbnail.append(&quot;&lt;br&gt;&quot;);
                $thumbnail.append($btnGroup);

                $li.html($thumbnail); 

                $(&quot;#thumbnails&quot;).append($li);
            });
        });
        
        that = this ; 
        $(&#x27;.dropdown-toggle&#x27;).dropdown();
        $(&#x27;.updateLevelLink&#x27;).live(&#x27;click&#x27;, function(){that.updateLevelLink();});

        return this; 
    }

    this.updateLevelLink = function (){
        var $this = $(this) ; 

        $(&#x27;#myModal&#x27;).data(&quot;level&quot;   , $this.data(&quot;level&quot;))
                     .data(&quot;address&quot; , $this.data(&quot;address&quot;))
                     .data(&quot;filename&quot;, $this.data(&quot;filename&quot;)); 

        $(&#x27;.modal&#x27;).css({width:&#x27;650px&#x27;,top:&#x27;40%&#x27;}); 
        $(&#x27;.modal-body&#x27;).css(&#x27;max-height&#x27;,  &#x27;620px&#x27;)
        
        $(&#x27;.modal-header&#x27;).find(&quot;h3&quot;).html(&quot;Modification de la lampe Ã  l&#x27;adresse &quot;+$this.data(&quot;address&quot;)+&quot; au niveau &quot;+$this.data(&quot;level&quot;)); 

        var $canvas = $(&quot;&lt;img width=&#x27;600&#x27; height=&#x27;500&#x27;&gt;&lt;&#x2F;img&gt;&quot;).attr(&#x27;src&#x27;,&#x27;.&#x2F;domotique&#x2F;&#x27;+$this.data(&quot;filename&quot;)) ;

        $(&#x27;.modal-body&#x27;).html($canvas); 

        $(&#x27;#myModal&#x27;).modal();
    }

    this.initUI = function(){
        this.displayDevicesThumbnails(); 
    }
}








    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
